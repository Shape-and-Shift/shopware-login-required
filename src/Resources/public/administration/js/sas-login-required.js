(this.webpackJsonp=this.webpackJsonp||[]).push([["sas-login-required"],{"9Byq":function(e,t,a){"use strict";a.r(t);var o=a("b1AN"),s=a.n(o);const{Component:r}=Shopware;r.override("sw-category-view",{template:s.a});var i=a("VoMq"),n=a.n(i);const{Component:c}=Shopware;c.register("sas-category-detail-gate",{template:n.a,inject:["repositoryFactory"],data:()=>({hasLoadedCustomerGroup:!1}),computed:{categoryDetailGate:()=>Shopware.State.get("sasCategoryDetailGate")?Shopware.State.get("sasCategoryDetailGate").gate:{}},watch:{"categoryDetailGate.id":{immediate:!0,handler(){this.loadedGateCustomerGroups()}}},methods:{loadedGateCustomerGroups(){this.hasLoadedCustomerGroup||null===this.categoryDetailGate||(this.hasLoadedCustomerGroup=!0)}}});const{Criteria:l}=Shopware.Data;var d={namespaced:!0,state:()=>({gate:null}),mutations:{setGate(e,t){e.gate=t}},actions:{setGate({commit:e},t){e("setGate",t)},loadGate({commit:e},{gateRepository:t,categoryId:a,apiContext:o}){const s=new l;return s.addFilter(l.equals("categoryId",a)),s.addAssociation("customerGroups"),t.search(s,o).then(s=>{if(s.total>0){const t=s[0];e("setGate",t)}else{const s=t.create(Shopware.Context.api);s.categoryId=a,s.isEnabled=!1,t.save(s,o).then(()=>{s._isNew=!1,e("setGate",s)})}})}}};const{Component:g}=Shopware;g.override("sw-category-detail",{inject:["repositoryFactory"],props:{categoryId:{type:String,required:!1,default:null}},beforeCreate(){Shopware.State.registerModule("sasCategoryDetailGate",d)},beforeDestroy(){Shopware.State.unregisterModule("sasCategoryDetailGate")},computed:{gateRepository(){return this.repositoryFactory.create("sas_gate")},category:()=>Shopware.State.get("swCategoryDetail").category,categoryDetailGate:()=>Shopware.State.get("sasCategoryDetailGate").gate},watch:{categoryId(){this.loadGate(this.categoryId)}},methods:{createdComponent(){this.$super("createdComponent"),this.loadGate(this.categoryId)},async onSave(){this.categoryDetailGate&&this.gateRepository.save(this.categoryDetailGate,Shopware.Context.api),this.$super("onSave")},loadGate(e){Shopware.State.dispatch("sasCategoryDetailGate/loadGate",{gateRepository:this.gateRepository,apiContext:Shopware.Context.api,categoryId:e})}}}),Shopware.Module.register("sas-category-detail-gate-tab",{routeMiddleware:function(e,t){"sw.category.detail"===t.name&&t.children.push({name:"sw.category.detail.gate",path:"/sw/category/index/:id/gate",component:"sas-category-detail-gate",meta:{parentPath:"sw.category.index",privilege:"category.viewer"}}),e(t)}})},VoMq:function(e,t){e.exports='{% block sas_category_detail_gate %}\n    <div class="sas-category-detail__gate">\n        <template v-if="hasLoadedCustomerGroup">\n            <sw-card :title="$tc(\'sas-login-required.sasCategoryDetailGate.settingTitle\')">\n                <sw-field\n                    class="sas-category-detail__gate-switch"\n                    type="switch"\n                    :label="$tc(\'sas-login-required.sasCategoryDetailGate.enableSwitch\')"\n                    v-model="categoryDetailGate.isEnabled">\n                </sw-field>\n            </sw-card>\n\n            <sw-card :title="$tc(\'sas-login-required.sasCategoryDetailGate.extendedSettingsTitle\')">\n                <sw-entity-multi-select\n                    class="sas-category-detail__gate-select-customer-group"\n                    :label="$tc(\'sas-login-required.sasCategoryDetailGate.allowCustomerGroupLabel\')"\n                    :disabled="!categoryDetailGate.isEnabled"\n                    v-model="categoryDetailGate.customerGroups">\n                </sw-entity-multi-select>\n            </sw-card>\n        </template>\n    </div>\n{% endblock %}\n'},b1AN:function(e,t){e.exports='{% block sw_category_view_tabs_cms %}\n    {% parent %}\n\n    <sw-tabs-item\n        v-show="cmsPage"\n        :disabled="!acl.can(\'category.editor\')"\n        class="sw-category-detail__tab-gate"\n        :route="{ name: \'sw.category.detail.gate\' }"\n        :title="$tc(\'sas-login-required.categoryView.gateTitle\')">\n        {{ $tc(\'sas-login-required.categoryView.gateTitle\') }}\n    </sw-tabs-item>\n{% endblock %}\n'}},[["9Byq","runtime"]]]);